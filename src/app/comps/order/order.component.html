<div class="wrapper light center">
    <div class="block">
        <h2>Оформление заказа</h2>
        @if (!next) {
        @for (item of tovars; track $index) {
        <div class="flex tovar" (click)="goTovar(item.id)">
            <div class="img" [style.backgroundImage]="'url(../../../assets/catalog/products/' + item.img + '.jpg)'">
            </div>
            <div class="name">
                {{item.name}}
            </div>
            <div class="price">
                {{item.price}} руб.
            </div>
        </div>
        }
        <div>
            <input type="text" placeholder="Адрес" class="w100" [(ngModel)]="addres">
            <input type="email" placeholder="Email" class="w100" [(ngModel)]="email">
            <input type="tel" placeholder="Номер телефона" class="w100" [(ngModel)]="tel">
            <div class="margin">
                <input type="checkbox" id="s" (change)="soglasie = !soglasie">
                <label for="s">Я согласен(а) на обработку персоналных данных</label>
            </div>
            <fieldset id="fieldset">
                <legend>Способы доставки</legend>
                <div>
                    <input type="radio" id="huey" name="drone" value="huey" [checked]="sposob == i1.innerText"  (change)="changeSposob(i1.innerText)"/>
                    <label for="huey" #i1>Почта России</label>
                </div>
                <div>
                    <input type="radio" id="dewey" name="drone" value="dewey" [checked]="sposob == i2.innerText" (change)="changeSposob(i2.innerText)"/>
                    <label for="dewey" #i2>СДЭК</label>
                </div>
                <div>
                    <input type="radio" id="louie" name="drone" value="louie" [checked]="sposob == i3.innerText" (change)="changeSposob(i3.innerText)"/>
                    <label for="louie" #i3>Курьер</label>
                </div>
                <div>
                    <input type="radio" id="s1" name="drone" value="s1" [checked]="sposob == i4.innerText" (change)="changeSposob(i4.innerText)"/>
                    <label for="s1" #i4>Самовывоз</label>
                </div>
            </fieldset>
        </div>
        <div class="right margin">
            <button class="button1" (click)="next = true" [disabled]="!soglasie && email && addres && tel">
                К оформлению
            </button>
        </div>
        }
        @else {
            <span>Мы искренне благодарим вас за выбор нашего магазина</span>
            <div>
                <input type="text" placeholder="Номер карты" class="w100 margin">
                <div class="srok">
                    <div class="flex jcsb">
                        <div class="margin">
                            <label for="">Срок дейсвтия</label>
                            <div>
                                <input class="mini" type="text">
                                /
                                <input class="mini" type="text">
                            </div>
                        </div>
                        <div class="margin">
                            <label for="">CVV</label>
                            <div>
                                <input class="mini" type="text">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex jcsb">
                    <button class="button1 margin" (click)="next = false">
                        Назад
                    </button>
                    <button class="button1 margin" (click)="oformit()">
                        Офоримить
                    </button>
                </div>
            </div>
        }
    </div>
</div>